import{l as d}from"./index-B68FPR2t.js";import{d as l}from"./react-CBwzHIFZ.js";const p=async()=>{var a,s,r,e;try{return(await d.get("client/pagos")).data.data}catch(t){const o=t,n=((s=(a=o.response)==null?void 0:a.data)==null?void 0:s.message)??"Error inesperado",c=(e=(r=o.response)==null?void 0:r.data)==null?void 0:e.errors;throw{message:n,validationErrors:c}}},w=async a=>{var s,r,e,t;try{return(await d.post("client/pago",a)).data}catch(o){const n=o,c=((r=(s=n.response)==null?void 0:s.data)==null?void 0:r.message)??"Error inesperado",i=(t=(e=n.response)==null?void 0:e.data)==null?void 0:t.errors;throw{message:c,validationErrors:i}}},h=async(a,s)=>{var r,e,t,o;try{return(await d.patch(`client/pago/${a}`,s)).data}catch(n){const c=n,i=((e=(r=c.response)==null?void 0:r.data)==null?void 0:e.message)??"Error inesperado",g=(o=(t=c.response)==null?void 0:t.data)==null?void 0:o.errors;throw{message:i,validationErrors:g}}},m=async a=>{var s,r,e,t;try{return(await d.delete(`client/pago/${a}`)).data}catch(o){const n=o,c=((r=(s=n.response)==null?void 0:s.data)==null?void 0:r.message)??"Error inesperado",i=(t=(e=n.response)==null?void 0:e.data)==null?void 0:t.errors;throw{message:c,validationErrors:i}}},u=l((a,s)=>({pagos:[],selectedPago:null,loading:!1,error:null,fetchPagos:async()=>{a({loading:!0,error:null});try{const r=await p();a({pagos:r})}catch(r){a({error:r.message||"Error al cargar pagos"})}finally{a({loading:!1})}},createPago:async r=>{await w(r),await s().fetchPagos()},updatePago:async(r,e)=>{await h(r,e),await s().fetchPagos()},deletePago:async r=>{await m(r),await s().fetchPagos()},selectPago:r=>{a({selectedPago:r})}}));export{u};
