import{j as e,S as Ce,c as S,b as ye,L as _e,d as Ne,e as ee,r as c,P,f as te,g as Ae,R as b,B as N,h as z}from"./index-6cm5RRqV.js";import{u as Se,D as Ie,a as we,b as Pe,c as ke,d as De,e as Re,T as Ee,f as Te,g as H,h as Oe,i as J,j as Me,k as W,l as $e}from"./dialog-dzjnMq20.js";import{c as T,I as Le}from"./createLucideIcon-o3Uymo5R.js";import{S as He,a as Ve,b as ze,c as Be,d as Fe,e as Ke,f as qe,u as Ge,C as Ue}from"./select-BUMzLm1z.js";import{u as B,a as ae,c as ne,P as Qe}from"./index-CQWa2sZY.js";import{t as Z}from"./timeFormatter-DNfpeksr.js";/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xe=[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]],Ye=T("chevron-left",Xe);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Je=[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]],We=T("chevron-right",Je);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ze=[["path",{d:"m11 17-5-5 5-5",key:"13zhaf"}],["path",{d:"m18 17-5-5 5-5",key:"h8a8et"}]],et=T("chevrons-left",Ze);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tt=[["path",{d:"m6 17 5-5-5-5",key:"xnjwq"}],["path",{d:"m13 17 5-5-5-5",key:"17xmmf"}]],at=T("chevrons-right",tt),nt=ye("inline-flex items-center justify-center rounded-md border px-2 py-0.5 text-xs font-medium w-fit whitespace-nowrap shrink-0 [&>svg]:size-3 gap-1 [&>svg]:pointer-events-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive transition-[color,box-shadow] overflow-hidden",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground [a&]:hover:bg-primary/90",secondary:"border-transparent bg-secondary text-secondary-foreground [a&]:hover:bg-secondary/90",destructive:"border-transparent bg-destructive text-white [a&]:hover:bg-destructive/90 focus-visible:ring-destructive/20 dark:focus-visible:ring-destructive/40 dark:bg-destructive/60",outline:"text-foreground [a&]:hover:bg-accent [a&]:hover:text-accent-foreground"}},defaultVariants:{variant:"default"}});function rt({className:a,variant:n,asChild:r=!1,...o}){const s=r?Ce:"span";return e.jsx(s,{"data-slot":"badge",className:S(nt({variant:n}),a),...o})}const ot=a=>[{accessorKey:"id",header:"#",cell:({row:n})=>a+n.index},{id:"acudiente",cell:({row:n})=>n.original.acudiente_id?e.jsx(rt,{className:"h-5 min-w-5 rounded-full px-1 font-mono tabular-nums",variant:"secondary",asChild:!0,children:e.jsx(_e,{to:"#",children:"A"})}):null},{id:"nombresCompletos",accessorFn:n=>`${n.nombres} ${n.apellidos}`,header:"Nombres completos"},{accessorKey:"edad",header:"Edad"},{accessorKey:"correo",header:"Correo electrónico"},{accessorKey:"telefono",header:"Teléfono"},{accessorKey:"sede.nombre",header:"Sede"},{id:"horario",header:"Horario",accessorFn:n=>`${n.horario.dia_semana}`}];function st({className:a,...n}){return e.jsx("nav",{role:"navigation","aria-label":"pagination","data-slot":"pagination",className:S("mx-auto flex w-full justify-center",a),...n})}function it({className:a,...n}){return e.jsx("ul",{"data-slot":"pagination-content",className:S("flex flex-row items-center gap-1",a),...n})}function lt({...a}){return e.jsx("li",{"data-slot":"pagination-item",...a})}function ct({className:a,isActive:n,size:r="icon",...o}){return e.jsx("a",{"aria-current":n?"page":void 0,"data-slot":"pagination-link","data-active":n,className:S(Ne({variant:n?"outline":"ghost",size:r}),a),...o})}function dt({value:a,options:n,onValueChange:r}){return e.jsxs(He,{value:String(a),onValueChange:o=>r(o),children:[e.jsx(Ve,{children:e.jsx(ze,{placeholder:String(a)})}),e.jsx(Be,{children:e.jsx(Fe,{children:n.map(o=>e.jsx(Ke,{value:String(o.value),children:o.label},String(o.value)))})})]})}var O="Collapsible",[ut,re]=ee(O),[pt,F]=ut(O),oe=c.forwardRef((a,n)=>{const{__scopeCollapsible:r,open:o,defaultOpen:s,disabled:i,onOpenChange:t,...u}=a,[x,p]=B({prop:o,defaultProp:s??!1,onChange:t,caller:O});return e.jsx(pt,{scope:r,disabled:i,contentId:ae(),open:x,onOpenToggle:c.useCallback(()=>p(l=>!l),[p]),children:e.jsx(P.div,{"data-state":q(x),"data-disabled":i?"":void 0,...u,ref:n})})});oe.displayName=O;var se="CollapsibleTrigger",ie=c.forwardRef((a,n)=>{const{__scopeCollapsible:r,...o}=a,s=F(se,r);return e.jsx(P.button,{type:"button","aria-controls":s.contentId,"aria-expanded":s.open||!1,"data-state":q(s.open),"data-disabled":s.disabled?"":void 0,disabled:s.disabled,...o,ref:n,onClick:ne(a.onClick,s.onOpenToggle)})});ie.displayName=se;var K="CollapsibleContent",le=c.forwardRef((a,n)=>{const{forceMount:r,...o}=a,s=F(K,a.__scopeCollapsible);return e.jsx(Qe,{present:r||s.open,children:({present:i})=>e.jsx(xt,{...o,ref:n,present:i})})});le.displayName=K;var xt=c.forwardRef((a,n)=>{const{__scopeCollapsible:r,present:o,children:s,...i}=a,t=F(K,r),[u,x]=c.useState(o),p=c.useRef(null),l=te(n,p),f=c.useRef(0),C=f.current,g=c.useRef(0),I=g.current,y=t.open||u,_=c.useRef(y),j=c.useRef(void 0);return c.useEffect(()=>{const d=requestAnimationFrame(()=>_.current=!1);return()=>cancelAnimationFrame(d)},[]),Ae(()=>{const d=p.current;if(d){j.current=j.current||{transitionDuration:d.style.transitionDuration,animationName:d.style.animationName},d.style.transitionDuration="0s",d.style.animationName="none";const A=d.getBoundingClientRect();f.current=A.height,g.current=A.width,_.current||(d.style.transitionDuration=j.current.transitionDuration,d.style.animationName=j.current.animationName),x(o)}},[t.open,o]),e.jsx(P.div,{"data-state":q(t.open),"data-disabled":t.disabled?"":void 0,id:t.contentId,hidden:!y,...i,ref:l,style:{"--radix-collapsible-content-height":C?`${C}px`:void 0,"--radix-collapsible-content-width":I?`${I}px`:void 0,...a.style},children:y&&s})});function q(a){return a?"open":"closed"}var ht=oe,mt=ie,ft=le,v="Accordion",bt=["Home","End","ArrowDown","ArrowUp","ArrowLeft","ArrowRight"],[G,gt,vt]=qe(v),[M,Ht]=ee(v,[vt,re]),U=re(),ce=b.forwardRef((a,n)=>{const{type:r,...o}=a,s=o,i=o;return e.jsx(G.Provider,{scope:a.__scopeAccordion,children:r==="multiple"?e.jsx(_t,{...i,ref:n}):e.jsx(yt,{...s,ref:n})})});ce.displayName=v;var[de,jt]=M(v),[ue,Ct]=M(v,{collapsible:!1}),yt=b.forwardRef((a,n)=>{const{value:r,defaultValue:o,onValueChange:s=()=>{},collapsible:i=!1,...t}=a,[u,x]=B({prop:r,defaultProp:o??"",onChange:s,caller:v});return e.jsx(de,{scope:a.__scopeAccordion,value:b.useMemo(()=>u?[u]:[],[u]),onItemOpen:x,onItemClose:b.useCallback(()=>i&&x(""),[i,x]),children:e.jsx(ue,{scope:a.__scopeAccordion,collapsible:i,children:e.jsx(pe,{...t,ref:n})})})}),_t=b.forwardRef((a,n)=>{const{value:r,defaultValue:o,onValueChange:s=()=>{},...i}=a,[t,u]=B({prop:r,defaultProp:o??[],onChange:s,caller:v}),x=b.useCallback(l=>u((f=[])=>[...f,l]),[u]),p=b.useCallback(l=>u((f=[])=>f.filter(C=>C!==l)),[u]);return e.jsx(de,{scope:a.__scopeAccordion,value:t,onItemOpen:x,onItemClose:p,children:e.jsx(ue,{scope:a.__scopeAccordion,collapsible:!0,children:e.jsx(pe,{...i,ref:n})})})}),[Nt,$]=M(v),pe=b.forwardRef((a,n)=>{const{__scopeAccordion:r,disabled:o,dir:s,orientation:i="vertical",...t}=a,u=b.useRef(null),x=te(u,n),p=gt(r),f=Ge(s)==="ltr",C=ne(a.onKeyDown,g=>{var X;if(!bt.includes(g.key))return;const I=g.target,y=p().filter(L=>{var Y;return!((Y=L.ref.current)!=null&&Y.disabled)}),_=y.findIndex(L=>L.ref.current===I),j=y.length;if(_===-1)return;g.preventDefault();let d=_;const A=0,w=j-1,h=()=>{d=_+1,d>w&&(d=A)},m=()=>{d=_-1,d<A&&(d=w)};switch(g.key){case"Home":d=A;break;case"End":d=w;break;case"ArrowRight":i==="horizontal"&&(f?h():m());break;case"ArrowDown":i==="vertical"&&h();break;case"ArrowLeft":i==="horizontal"&&(f?m():h());break;case"ArrowUp":i==="vertical"&&m();break}const je=d%j;(X=y[je].ref.current)==null||X.focus()});return e.jsx(Nt,{scope:r,disabled:o,direction:s,orientation:i,children:e.jsx(G.Slot,{scope:r,children:e.jsx(P.div,{...t,"data-orientation":i,ref:x,onKeyDown:o?void 0:C})})})}),E="AccordionItem",[At,Q]=M(E),xe=b.forwardRef((a,n)=>{const{__scopeAccordion:r,value:o,...s}=a,i=$(E,r),t=jt(E,r),u=U(r),x=ae(),p=o&&t.value.includes(o)||!1,l=i.disabled||a.disabled;return e.jsx(At,{scope:r,open:p,disabled:l,triggerId:x,children:e.jsx(ht,{"data-orientation":i.orientation,"data-state":ve(p),...u,...s,ref:n,disabled:l,open:p,onOpenChange:f=>{f?t.onItemOpen(o):t.onItemClose(o)}})})});xe.displayName=E;var he="AccordionHeader",me=b.forwardRef((a,n)=>{const{__scopeAccordion:r,...o}=a,s=$(v,r),i=Q(he,r);return e.jsx(P.h3,{"data-orientation":s.orientation,"data-state":ve(i.open),"data-disabled":i.disabled?"":void 0,...o,ref:n})});me.displayName=he;var V="AccordionTrigger",fe=b.forwardRef((a,n)=>{const{__scopeAccordion:r,...o}=a,s=$(v,r),i=Q(V,r),t=Ct(V,r),u=U(r);return e.jsx(G.ItemSlot,{scope:r,children:e.jsx(mt,{"aria-disabled":i.open&&!t.collapsible||void 0,"data-orientation":s.orientation,id:i.triggerId,...u,...o,ref:n})})});fe.displayName=V;var be="AccordionContent",ge=b.forwardRef((a,n)=>{const{__scopeAccordion:r,...o}=a,s=$(v,r),i=Q(be,r),t=U(r);return e.jsx(ft,{role:"region","aria-labelledby":i.triggerId,"data-orientation":s.orientation,...t,...o,ref:n,style:{"--radix-accordion-content-height":"var(--radix-collapsible-content-height)","--radix-accordion-content-width":"var(--radix-collapsible-content-width)",...a.style}})});ge.displayName=be;function ve(a){return a?"open":"closed"}var St=ce,It=xe,wt=me,Pt=fe,kt=ge;function Dt({...a}){return e.jsx(St,{"data-slot":"accordion",...a})}function k({className:a,...n}){return e.jsx(It,{"data-slot":"accordion-item",className:S("border-b last:border-b-0",a),...n})}function D({className:a,children:n,...r}){return e.jsx(wt,{className:"flex",children:e.jsxs(Pt,{"data-slot":"accordion-trigger",className:S("focus-visible:border-ring focus-visible:ring-ring/50 flex flex-1 items-start justify-between gap-4 rounded-md py-4 text-left text-sm font-medium transition-all outline-none hover:underline focus-visible:ring-[3px] disabled:pointer-events-none disabled:opacity-50 [&[data-state=open]>svg]:rotate-180",a),...r,children:[n,e.jsx(Ue,{className:"text-muted-foreground pointer-events-none size-4 shrink-0 translate-y-0.5 transition-transform duration-200"})]})})}function R({className:a,children:n,...r}){return e.jsx(kt,{"data-slot":"accordion-content",className:"data-[state=closed]:animate-accordion-up data-[state=open]:animate-accordion-down overflow-hidden text-sm",...r,children:e.jsx("div",{className:S("pt-0 pb-4",a),children:n})})}function Rt({columns:a,data:n,pageNumRefs:r,pageLinks:o,handlePageChange:s}){var w;const i=Se({data:n,columns:a,getCoreRowModel:$e(),manualPagination:!0}),[t,u]=c.useState(null),[x,p]=c.useState(!1),[l,f]=c.useState(""),C=[{label:"10",value:10},{label:"15",value:15},{label:"20",value:20},{label:"30",value:30}];c.useEffect(()=>{t&&f(`${t.nombres} ${t.apellidos}`)},[t]);const[g,I]=c.useState(""),[y,_]=c.useState([]),[j,d]=c.useState(!1),A=async()=>{if(g.trim()){d(!0);try{const m=await(await fetch(`https://acuafit.up.railway.app/client/buscar?q=${g}`)).json();_(m),console.log(y)}catch(h){console.error("Error fetching data:",h)}finally{d(!1)}}};return e.jsxs(e.Fragment,{children:[e.jsx("h1",{className:"scroll-m-20 flex-wrap text-3xl font-semibold text-primary",children:"Listado de Estudiantes"}),e.jsxs("div",{className:"flex w-full max-w-sm  my-4 gap-2",children:[e.jsx(Le,{type:"search",placeholder:"Buscar",value:g,onChange:h=>I(h.target.value)}),e.jsx(N,{type:"submit",variant:"outline",onClick:A,disabled:j,className:"hover:bg-primary hover:text-white",children:j?"Buscando...":"Buscar"}),e.jsx(N,{type:"submit",variant:"outline",className:"hover:bg-primary hover:text-white",children:"Limpiar"})]}),x&&t&&e.jsx(Ie,{open:x,onOpenChange:p,children:e.jsxs(we,{children:[e.jsx(Pe,{children:e.jsx(ke,{className:"text-2xl text-left",children:l})}),e.jsxs(Dt,{type:"single",collapsible:!0,className:"w-full",children:[e.jsxs(k,{value:"item-1",children:[e.jsx(D,{className:"font-bold text-[16px]",children:"Detalles del Estudiante"}),e.jsxs(R,{className:"flex flex-col gap-4 text-balance",children:[e.jsxs("p",{children:[e.jsx("b",{children:"Nombres:"})," ",l]}),e.jsxs("p",{children:[e.jsx("b",{children:"Edad:"})," ",t.edad]}),e.jsxs("p",{children:[e.jsx("b",{children:"Documento:"})," ",t.tipo_documento," ",t.documento_identidad]}),e.jsxs("p",{children:[e.jsx("b",{children:"Correo:"})," ",t.correo]}),e.jsxs("p",{children:[e.jsx("b",{children:"Teléfono:"})," ",t.telefono]}),e.jsxs("p",{children:[e.jsx("b",{children:"Dirección:"})," ",t.direccion]}),e.jsxs("p",{children:[e.jsx("b",{children:"RUT:"})," ",t.rut??"N/A"]}),e.jsxs("p",{children:[e.jsx("b",{children:"Acepta el reglamento:"})," ",t.acepta_reglamento?"Sí":"No"]}),e.jsxs("p",{children:[e.jsx("b",{children:"Autoriza uso de imagen:"})," ",t.autoriza_uso_imagen?"Sí":"No"]}),e.jsxs("p",{children:[e.jsx("b",{children:"Observaciones:"})," ",t.observaciones]})]})]}),t.acudiente&&e.jsxs(k,{value:"item-2",children:[e.jsx(D,{className:"font-bold text-[16px]",children:"Detalle del Acudiente"}),e.jsxs(R,{className:"flex flex-col gap-4 text-balance",children:[e.jsxs("p",{children:[e.jsx("b",{children:"Nombres:"})," ",t==null?void 0:t.acudiente.nombres," ",t==null?void 0:t.acudiente.apellidos]}),e.jsxs("p",{children:[e.jsx("b",{children:"Documento:"})," ",t==null?void 0:t.acudiente.tipo_documento," ",t==null?void 0:t.acudiente.documento_identidad]}),e.jsxs("p",{children:[e.jsx("b",{children:"Teléfono:"})," ",t==null?void 0:t.acudiente.telefono]}),e.jsxs("p",{children:[e.jsx("b",{children:"Correo:"})," ",t==null?void 0:t.acudiente.email]})]})]}),e.jsxs(k,{value:"item-3",children:[e.jsx(D,{className:"font-bold text-[16px]",children:"Detalles de la Sede"}),e.jsxs(R,{className:"flex flex-col gap-4 text-balance",children:[e.jsxs("p",{children:[e.jsx("b",{children:"Nombre:"})," ",t==null?void 0:t.sede.nombre]}),e.jsxs("p",{children:[e.jsx("b",{children:"Dirección:"})," ",t==null?void 0:t.sede.direccion]})]})]}),e.jsxs(k,{value:"item-4",children:[e.jsx(D,{className:"font-bold text-[16px]",children:"Detalles del Horario"}),e.jsxs(R,{className:"flex flex-col gap-4 text-balance",children:[e.jsxs("p",{children:[e.jsx("b",{children:"Día de la semana:"})," ",t==null?void 0:t.horario.dia_semana]}),e.jsxs("p",{children:[e.jsx("b",{children:"Hora de inicio:"})," ",Z(t==null?void 0:t.horario.hora_inicio)]}),e.jsxs("p",{children:[e.jsx("b",{children:"Hora de fin:"})," ",Z(t==null?void 0:t.horario.hora_fin)]})]})]})]}),e.jsxs(De,{children:[e.jsx(Re,{asChild:!0,children:e.jsx(N,{variant:"outline",children:"Cancelar"})}),e.jsx(N,{type:"submit",children:"Editar"}),e.jsx(N,{variant:"destructive",type:"submit",disabled:!0,children:"Eliminar"})]})]})}),e.jsx("div",{className:"rounded-md border",children:e.jsxs(Ee,{children:[e.jsx(Te,{children:i.getHeaderGroups().map(h=>e.jsx(H,{children:h.headers.map(m=>e.jsx(Oe,{children:m.isPlaceholder?null:J(m.column.columnDef.header,m.getContext())},m.id))},h.id))}),e.jsx(Me,{className:"text-gray-600",children:(w=i.getRowModel().rows)!=null&&w.length?i.getRowModel().rows.map(h=>e.jsx(H,{onClick:()=>{u(h.original),p(!0)},className:"hover:text-muted hover:bg-primary cursor-pointer",children:h.getVisibleCells().map(m=>e.jsx(W,{className:"py-0.5",children:J(m.column.columnDef.cell,m.getContext())},m.id))},h.id)):e.jsx(H,{children:e.jsx(W,{colSpan:a.length,className:"h-8 text-center",children:"No hay resultados"})})})]})}),e.jsx("div",{className:"flex flex-row justify-end items-center mb-4 sm:mb-0",children:e.jsxs("div",{className:"flex items-center justify-end py-4 space-x-1",children:[e.jsx(dt,{value:C[0].value,onValueChange:()=>{},options:C}),e.jsx(N,{variant:"outline",size:"sm",onClick:()=>s("first"),disabled:o.prev_page_url===null,className:"hover:bg-primary hover:text-white hidden sm:block",children:e.jsx(et,{})}),e.jsx(N,{variant:"outline",size:"sm",onClick:()=>s("previous"),disabled:o.prev_page_url===null,className:"hover:bg-primary hover:text-white",children:e.jsx(Ye,{})}),e.jsx(st,{className:"hidden sm:flex mr-1",children:e.jsx(it,{children:e.jsx(lt,{children:e.jsx(ct,{children:r.current_page})})})}),e.jsx(N,{variant:"outline",size:"sm",onClick:()=>s("next"),disabled:o.next_page_url===null,className:"hover:bg-primary hover:text-white",children:e.jsx(We,{})}),e.jsx(N,{variant:"outline",size:"sm",onClick:()=>s("last"),disabled:o.next_page_url===null,className:"hover:bg-primary hover:text-white hidden sm:block",children:e.jsx(at,{})})]})})]})}z.defaults.withCredentials=!0;z.defaults.withXSRFToken=!0;function Vt(){const[a,n]=c.useState([]),[r,o]=c.useState({current_page:1,last_page:1,per_page:10,from:0,to:0,total:0,next_page:null}),[s,i]=c.useState({first_page_url:"",last_page_url:"",next_page_url:null,prev_page_url:null}),[t,u]=c.useState("https://acuafit.up.railway.app/client/estudiantes"),x=p=>{let l=null;switch(p){case"first":l=s.first_page_url;break;case"previous":l=s.prev_page_url;break;case"next":l=s.next_page_url;break;case"last":l=s.last_page_url;break}l!==null&&u(l)};return c.useEffect(()=>{z.get(t).then(p=>{const l=p.data;l&&l.data&&Array.isArray(l.data)?(o({...l}),i({...l}),n(l.data)):(console.error("La respuesta de la API no tiene el formato esperado:",l),n([]))}).catch(p=>{console.error("Error al obtener los datos:",p),n([])})},[t]),e.jsx("div",{className:"container mx-auto px-6 py-4 lg:px-8 min-h-[68vh]",children:e.jsx(Rt,{columns:ot(Number(r.from)),data:a,handlePageChange:x,pageNumRefs:r,pageLinks:s})})}export{Vt as default};
