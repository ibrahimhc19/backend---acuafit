import{r as c,j as e,e as Z,P as G,f as U,c as J,o as ze,p as Ke,h as Ve,q as He,s as K,L as de,B as le,t as X}from"./index-CBYVabO5.js";import{u as $e}from"./index.esm-Ddviz_xR.js";import{u as Ye,F as Xe,a as I,b as C,c as g,d as N,e as E,h as Ze,t as Je,o as ue,i as ee,s as F,f as me,Z as B}from"./form-CU9axlj2.js";import{h as pe,i as We,c as Qe,u as fe,S as eo,a as oo,b as to,d as ro,g as no}from"./select-DM0KbULM.js";import{I as P}from"./input-AgxJhOcW.js";import{P as xe,u as ae,c as A,a as so}from"./react-Cbco6HJ_.js";import{u as he}from"./index-CKTKQYJl.js";import{u as ao}from"./useHorariosStore-CB_4Y6Ut.js";import{c as io}from"./createLucideIcon-DHwrj6jn.js";import{u as co}from"./useEstudiantesStore-CITxc59J.js";/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lo=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],uo=io("circle",lo),mo=o=>o[0].toUpperCase()+o.substring(1);var W="Checkbox",[po,Qo]=Z(W),[fo,ie]=po(W);function xo(o){const{__scopeCheckbox:r,checked:n,children:d,defaultChecked:a,disabled:s,form:m,name:b,onCheckedChange:j,required:_,value:f="on",internal_do_not_use_render:x}=o,[k,v]=ae({prop:n,defaultProp:a??!1,onChange:j,caller:W}),[h,S]=c.useState(null),[l,R]=c.useState(null),w=c.useRef(!1),i=h?!!m||!!h.closest("form"):!0,T={checked:k,disabled:s,setChecked:v,control:h,setControl:S,name:b,form:m,value:f,hasConsumerStoppedPropagationRef:w,required:_,defaultChecked:O(a)?!1:a,isFormControl:i,bubbleInput:l,setBubbleInput:R};return e.jsx(fo,{scope:r,...T,children:ho(x)?x(T):d})}var be="CheckboxTrigger",ge=c.forwardRef(({__scopeCheckbox:o,onKeyDown:r,onClick:n,...d},a)=>{const{control:s,value:m,disabled:b,checked:j,required:_,setControl:f,setChecked:x,hasConsumerStoppedPropagationRef:k,isFormControl:v,bubbleInput:h}=ie(be,o),S=U(a,f),l=c.useRef(j);return c.useEffect(()=>{const R=s==null?void 0:s.form;if(R){const w=()=>x(l.current);return R.addEventListener("reset",w),()=>R.removeEventListener("reset",w)}},[s,x]),e.jsx(G.button,{type:"button",role:"checkbox","aria-checked":O(j)?"mixed":j,"aria-required":_,"data-state":ke(j),"data-disabled":b?"":void 0,disabled:b,value:m,...d,ref:S,onKeyDown:A(r,R=>{R.key==="Enter"&&R.preventDefault()}),onClick:A(n,R=>{x(w=>O(w)?!0:!w),h&&v&&(k.current=R.isPropagationStopped(),k.current||R.stopPropagation())})})});ge.displayName=be;var je=c.forwardRef((o,r)=>{const{__scopeCheckbox:n,name:d,checked:a,defaultChecked:s,required:m,disabled:b,value:j,onCheckedChange:_,form:f,...x}=o;return e.jsx(xo,{__scopeCheckbox:n,checked:a,defaultChecked:s,disabled:b,required:m,onCheckedChange:_,name:d,form:f,value:j,internal_do_not_use_render:({isFormControl:k})=>e.jsxs(e.Fragment,{children:[e.jsx(ge,{...x,ref:r,__scopeCheckbox:n}),k&&e.jsx(Ce,{__scopeCheckbox:n})]})})});je.displayName=W;var ve="CheckboxIndicator",ye=c.forwardRef((o,r)=>{const{__scopeCheckbox:n,forceMount:d,...a}=o,s=ie(ve,n);return e.jsx(xe,{present:d||O(s.checked)||s.checked===!0,children:e.jsx(G.span,{"data-state":ke(s.checked),"data-disabled":s.disabled?"":void 0,...a,ref:r,style:{pointerEvents:"none",...o.style}})})});ye.displayName=ve;var _e="CheckboxBubbleInput",Ce=c.forwardRef(({__scopeCheckbox:o,...r},n)=>{const{control:d,hasConsumerStoppedPropagationRef:a,checked:s,defaultChecked:m,required:b,disabled:j,name:_,value:f,form:x,bubbleInput:k,setBubbleInput:v}=ie(_e,o),h=U(n,v),S=pe(s),l=he(d);c.useEffect(()=>{const w=k;if(!w)return;const i=window.HTMLInputElement.prototype,D=Object.getOwnPropertyDescriptor(i,"checked").set,t=!a.current;if(S!==s&&D){const p=new Event("click",{bubbles:t});w.indeterminate=O(s),D.call(w,O(s)?!1:s),w.dispatchEvent(p)}},[k,S,s,a]);const R=c.useRef(O(s)?!1:s);return e.jsx(G.input,{type:"checkbox","aria-hidden":!0,defaultChecked:m??R.current,required:b,disabled:j,name:_,value:f,form:x,...r,tabIndex:-1,ref:h,style:{...r.style,...l,position:"absolute",pointerEvents:"none",opacity:0,margin:0,transform:"translateX(-100%)"}})});Ce.displayName=_e;function ho(o){return typeof o=="function"}function O(o){return o==="indeterminate"}function ke(o){return O(o)?"indeterminate":o?"checked":"unchecked"}function oe({className:o,...r}){return e.jsx(je,{"data-slot":"checkbox",className:J("peer border-input dark:bg-input/30 data-[state=checked]:bg-primary data-[state=checked]:text-primary-foreground dark:data-[state=checked]:bg-primary data-[state=checked]:border-primary focus-visible:border-ring focus-visible:ring-ring/50 aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive size-4 shrink-0 rounded-[4px] border shadow-xs transition-shadow outline-none focus-visible:ring-[3px] disabled:cursor-not-allowed disabled:opacity-50",o),...r,children:e.jsx(ye,{"data-slot":"checkbox-indicator",className:"flex items-center justify-center text-current transition-none",children:e.jsx(We,{className:"size-3.5"})})})}function bo({className:o,...r}){return e.jsx("textarea",{"data-slot":"textarea",className:J("border-input placeholder:text-muted-foreground focus-visible:border-ring focus-visible:ring-ring/50 aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive dark:bg-input/30 flex field-sizing-content min-h-16 w-full rounded-md border bg-transparent px-3 py-2 text-base shadow-xs transition-[color,box-shadow] outline-none focus-visible:ring-[3px] disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",o),...r})}var te="rovingFocusGroup.onEntryFocus",go={bubbles:!1,cancelable:!0},V="RovingFocusGroup",[se,Ne,jo]=Qe(V),[vo,Re]=Z(V,[jo]),[yo,_o]=vo(V),Ie=c.forwardRef((o,r)=>e.jsx(se.Provider,{scope:o.__scopeRovingFocusGroup,children:e.jsx(se.Slot,{scope:o.__scopeRovingFocusGroup,children:e.jsx(Co,{...o,ref:r})})}));Ie.displayName=V;var Co=c.forwardRef((o,r)=>{const{__scopeRovingFocusGroup:n,orientation:d,loop:a=!1,dir:s,currentTabStopId:m,defaultCurrentTabStopId:b,onCurrentTabStopIdChange:j,onEntryFocus:_,preventScrollOnEntryFocus:f=!1,...x}=o,k=c.useRef(null),v=U(r,k),h=fe(s),[S,l]=ae({prop:m,defaultProp:b??null,onChange:j,caller:V}),[R,w]=c.useState(!1),i=ze(_),T=Ne(n),D=c.useRef(!1),[t,p]=c.useState(0);return c.useEffect(()=>{const y=k.current;if(y)return y.addEventListener(te,i),()=>y.removeEventListener(te,i)},[i]),e.jsx(yo,{scope:n,orientation:d,dir:h,loop:a,currentTabStopId:S,onItemFocus:c.useCallback(y=>l(y),[l]),onItemShiftTab:c.useCallback(()=>w(!0),[]),onFocusableItemAdd:c.useCallback(()=>p(y=>y+1),[]),onFocusableItemRemove:c.useCallback(()=>p(y=>y-1),[]),children:e.jsx(G.div,{tabIndex:R||t===0?-1:0,"data-orientation":d,...x,ref:v,style:{outline:"none",...o.style},onMouseDown:A(o.onMouseDown,()=>{D.current=!0}),onFocus:A(o.onFocus,y=>{const H=!D.current;if(y.target===y.currentTarget&&H&&!R){const z=new CustomEvent(te,go);if(y.currentTarget.dispatchEvent(z),!z.defaultPrevented){const L=T().filter(q=>q.focusable),$=L.find(q=>q.active),Y=L.find(q=>q.id===S),M=[$,Y,...L].filter(Boolean).map(q=>q.ref.current);we(M,f)}}D.current=!1}),onBlur:A(o.onBlur,()=>w(!1))})})}),Ee="RovingFocusGroupItem",Se=c.forwardRef((o,r)=>{const{__scopeRovingFocusGroup:n,focusable:d=!0,active:a=!1,tabStopId:s,children:m,...b}=o,j=so(),_=s||j,f=_o(Ee,n),x=f.currentTabStopId===_,k=Ne(n),{onFocusableItemAdd:v,onFocusableItemRemove:h,currentTabStopId:S}=f;return c.useEffect(()=>{if(d)return v(),()=>h()},[d,v,h]),e.jsx(se.ItemSlot,{scope:n,id:_,focusable:d,active:a,children:e.jsx(G.span,{tabIndex:x?0:-1,"data-orientation":f.orientation,...b,ref:r,onMouseDown:A(o.onMouseDown,l=>{d?f.onItemFocus(_):l.preventDefault()}),onFocus:A(o.onFocus,()=>f.onItemFocus(_)),onKeyDown:A(o.onKeyDown,l=>{if(l.key==="Tab"&&l.shiftKey){f.onItemShiftTab();return}if(l.target!==l.currentTarget)return;const R=Ro(l,f.orientation,f.dir);if(R!==void 0){if(l.metaKey||l.ctrlKey||l.altKey||l.shiftKey)return;l.preventDefault();let i=k().filter(T=>T.focusable).map(T=>T.ref.current);if(R==="last")i.reverse();else if(R==="prev"||R==="next"){R==="prev"&&i.reverse();const T=i.indexOf(l.currentTarget);i=f.loop?Io(i,T+1):i.slice(T+1)}setTimeout(()=>we(i))}}),children:typeof m=="function"?m({isCurrentTabStop:x,hasTabStop:S!=null}):m})})});Se.displayName=Ee;var ko={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function No(o,r){return r!=="rtl"?o:o==="ArrowLeft"?"ArrowRight":o==="ArrowRight"?"ArrowLeft":o}function Ro(o,r,n){const d=No(o.key,n);if(!(r==="vertical"&&["ArrowLeft","ArrowRight"].includes(d))&&!(r==="horizontal"&&["ArrowUp","ArrowDown"].includes(d)))return ko[d]}function we(o,r=!1){const n=document.activeElement;for(const d of o)if(d===n||(d.focus({preventScroll:r}),document.activeElement!==n))return}function Io(o,r){return o.map((n,d)=>o[(r+d)%o.length])}var Eo=Ie,So=Se,ce="Radio",[wo,Fe]=Z(ce),[Fo,Po]=wo(ce),Pe=c.forwardRef((o,r)=>{const{__scopeRadio:n,name:d,checked:a=!1,required:s,disabled:m,value:b="on",onCheck:j,form:_,...f}=o,[x,k]=c.useState(null),v=U(r,l=>k(l)),h=c.useRef(!1),S=x?_||!!x.closest("form"):!0;return e.jsxs(Fo,{scope:n,checked:a,disabled:m,children:[e.jsx(G.button,{type:"button",role:"radio","aria-checked":a,"data-state":Ge(a),"data-disabled":m?"":void 0,disabled:m,value:b,...f,ref:v,onClick:A(o.onClick,l=>{a||j==null||j(),S&&(h.current=l.isPropagationStopped(),h.current||l.stopPropagation())})}),S&&e.jsx(De,{control:x,bubbles:!h.current,name:d,value:b,checked:a,required:s,disabled:m,form:_,style:{transform:"translateX(-100%)"}})]})});Pe.displayName=ce;var Te="RadioIndicator",Ae=c.forwardRef((o,r)=>{const{__scopeRadio:n,forceMount:d,...a}=o,s=Po(Te,n);return e.jsx(xe,{present:d||s.checked,children:e.jsx(G.span,{"data-state":Ge(s.checked),"data-disabled":s.disabled?"":void 0,...a,ref:r})})});Ae.displayName=Te;var To="RadioBubbleInput",De=c.forwardRef(({__scopeRadio:o,control:r,checked:n,bubbles:d=!0,...a},s)=>{const m=c.useRef(null),b=U(m,s),j=pe(n),_=he(r);return c.useEffect(()=>{const f=m.current;if(!f)return;const x=window.HTMLInputElement.prototype,v=Object.getOwnPropertyDescriptor(x,"checked").set;if(j!==n&&v){const h=new Event("click",{bubbles:d});v.call(f,n),f.dispatchEvent(h)}},[j,n,d]),e.jsx(G.input,{type:"radio","aria-hidden":!0,defaultChecked:n,...a,tabIndex:-1,ref:b,style:{...a.style,..._,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})});De.displayName=To;function Ge(o){return o?"checked":"unchecked"}var Ao=["ArrowUp","ArrowDown","ArrowLeft","ArrowRight"],Q="RadioGroup",[Do,et]=Z(Q,[Re,Fe]),Oe=Re(),qe=Fe(),[Go,Oo]=Do(Q),Le=c.forwardRef((o,r)=>{const{__scopeRadioGroup:n,name:d,defaultValue:a,value:s,required:m=!1,disabled:b=!1,orientation:j,dir:_,loop:f=!0,onValueChange:x,...k}=o,v=Oe(n),h=fe(_),[S,l]=ae({prop:s,defaultProp:a??null,onChange:x,caller:Q});return e.jsx(Go,{scope:n,name:d,required:m,disabled:b,value:S,onValueChange:l,children:e.jsx(Eo,{asChild:!0,...v,orientation:j,dir:h,loop:f,children:e.jsx(G.div,{role:"radiogroup","aria-required":m,"aria-orientation":j,"data-disabled":b?"":void 0,dir:h,...k,ref:r})})})});Le.displayName=Q;var Me="RadioGroupItem",Be=c.forwardRef((o,r)=>{const{__scopeRadioGroup:n,disabled:d,...a}=o,s=Oo(Me,n),m=s.disabled||d,b=Oe(n),j=qe(n),_=c.useRef(null),f=U(r,_),x=s.value===a.value,k=c.useRef(!1);return c.useEffect(()=>{const v=S=>{Ao.includes(S.key)&&(k.current=!0)},h=()=>k.current=!1;return document.addEventListener("keydown",v),document.addEventListener("keyup",h),()=>{document.removeEventListener("keydown",v),document.removeEventListener("keyup",h)}},[]),e.jsx(So,{asChild:!0,...b,focusable:!m,active:x,children:e.jsx(Pe,{disabled:m,required:s.required,checked:x,...j,...a,name:s.name,ref:f,onCheck:()=>s.onValueChange(a.value),onKeyDown:A(v=>{v.key==="Enter"&&v.preventDefault()}),onFocus:A(a.onFocus,()=>{var v;k.current&&((v=_.current)==null||v.click())})})})});Be.displayName=Me;var qo="RadioGroupIndicator",Ue=c.forwardRef((o,r)=>{const{__scopeRadioGroup:n,...d}=o,a=qe(n);return e.jsx(Ae,{...a,...d,ref:r})});Ue.displayName=qo;var Lo=Le,Mo=Be,Bo=Ue;function re({className:o,...r}){return e.jsx(Lo,{"data-slot":"radio-group",className:J("grid gap-3",o),...r})}function ne({className:o,...r}){return e.jsx(Mo,{"data-slot":"radio-group-item",className:J("border-input text-primary focus-visible:border-ring focus-visible:ring-ring/50 aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive dark:bg-input/30 aspect-square size-4 shrink-0 rounded-full border shadow-xs transition-[color,box-shadow] outline-none focus-visible:ring-[3px] disabled:cursor-not-allowed disabled:opacity-50",o),...r,children:e.jsx(Bo,{"data-slot":"radio-group-indicator",className:"relative flex items-center justify-center",children:e.jsx(uo,{className:"fill-primary absolute top-1/2 left-1/2 size-2 -translate-x-1/2 -translate-y-1/2"})})})}const Uo=ue({nombres:F().min(2,{message:"El nombre es obligatorio."}),apellidos:F().min(2,{message:"El apellido es obligatorio."}),tipo_documento:me(K,{required_error:"Debe seleccionar un tipo de documento."}),documento_identidad:F().min(5,{message:"El documento debe tener al menos 5 dígitos."}),correo:F().min(1,{message:"El correo es obligatorio."}).email({message:"Formato de correo inválido."}),telefono:F().min(10,{message:"El teléfono debe tener al menos 10 dígitos."}),direccion:F().min(10,{message:"La dirección es obligatoria."}),edad:F().min(1,{message:"La edad es obligatoria."}),rut:F().optional(),sede_id:F({required_error:"Debe seleccionar una sede."}),horario_id:F().min(1,{message:"Debe seleccionar una sede."}),observaciones:F().max(160,{message:"Máximo 160 caracteres."}),fecha_inscripcion:F(),autoriza_uso_imagen:ee().default(!1),acepta_reglamento:ee().refine(o=>o===!0,{message:"Debe aceptar el reglamento."}),requiere_acudiente:ee().default(!1),acudiente:ue({nombres:F().optional(),apellidos:F().optional(),tipo_documento:me(K,{required_error:"Debe seleccionar un tipo de documento."}).optional(),documento_identidad:F().optional(),telefono:F().optional(),email:F().optional(),rut:F().optional()}).optional()}).superRefine((o,r)=>{if(o.requiere_acudiente){const n=o.acudiente??{};(!n.nombres||n.nombres.length<2)&&r.addIssue({code:B.custom,message:"El nombre del acudiente es obligatorio.",path:["acudiente","nombres"]}),(!n.apellidos||n.apellidos.length<2)&&r.addIssue({code:B.custom,message:"El apellido del acudiente es obligatorio.",path:["acudiente","apellidos"]}),n.tipo_documento||r.addIssue({code:B.custom,message:"Debe seleccionar un tipo de documento.",path:["acudiente","tipo_documento"]}),(!n.documento_identidad||n.documento_identidad.length<5)&&r.addIssue({code:B.custom,message:"El documento debe tener al menos 5 dígitos.",path:["acudiente","documento_identidad"]}),(!n.telefono||n.telefono.length<10)&&r.addIssue({code:B.custom,message:"El teléfono debe tener al menos 10 dígitos.",path:["acudiente","telefono"]}),n.email||r.addIssue({code:B.custom,message:"El correo electrónico del acudiente es obligatorio.",path:["acudiente","email"]})}});function ot(){const{createEstudiante:o,selectEstudiante:r,updateEstudiante:n,getEstudianteById:d,selectedEstudiante:a}=co(),{id:s}=Ke(),m=Ve(),b=!!s,j=!!(a!=null&&a.id),{fetchSedes:_,sedes:f}=Ye(),[x,k]=c.useState(),{fetchHorarios:v,horarios:h}=ao(),[S,l]=c.useState(!1),[R,w]=c.useState(!1),i=$e({resolver:Je(Uo),defaultValues:{nombres:"",apellidos:"",documento_identidad:"",correo:"",telefono:"",direccion:"",edad:"",rut:"",sede_id:"",horario_id:"",observaciones:"",fecha_inscripcion:`${new Date().toISOString().split("T")[0]}`,autoriza_uso_imagen:!1,acepta_reglamento:!1,requiere_acudiente:!1,acudiente:{nombres:"",apellidos:"",tipo_documento:void 0,documento_identidad:"",telefono:"",email:"",rut:""}}}),T=async t=>{if(l(!0),a!=null&&a.id)try{await n(a.id,t),X.success("El registro del estudiante fue actualizado correctamente."),r(null),m("/estudiantes",{replace:!0})}catch(p){X.error("No se pudo actualizar el registro del estudiante. Intenta de nuevo."),console.error("Error al actualizar",p)}finally{l(!1)}else try{await o(t),X.success("El estudiante fue inscrito correctamente.",{description:"Será redirigido en 3 segundos",duration:3e3}),r(null),setTimeout(()=>{j?(l(!1),m("/estudiantes",{replace:!0})):(l(!1),m(b?"/estudiantes":"/inscripcionexitosa",{replace:!0}))},3e3)}catch(y){X.error("No se pudo inscribir el estudiante. Intenta de nuevo."),console.error("Error al registrar",y)}finally{l(!1)}},D=t=>K.includes(t??"")?t:void 0;return c.useEffect(()=>{h.length===0&&v(),_()},[h]),c.useEffect(()=>{if(!s)return;(async()=>{var p,y,H,z,L,$,Y;try{await _();const u=await d(Number(s));if(u!=null&&u.sede_id&&k(h.filter(M=>M.sede_id.toString()===(u==null?void 0:u.sede_id.toString()))),u){r(u);const M=!!u.acudiente_id;w(M),i.reset({nombres:u.nombres??"",apellidos:u.apellidos??"",tipo_documento:D(u.tipo_documento),documento_identidad:u.documento_identidad??"",correo:u.correo??"",telefono:u.telefono??"",direccion:u.direccion??"",edad:u.edad.toString()??"",rut:u.rut??"",sede_id:u.sede_id.toString(),horario_id:u.horario_id.toString(),observaciones:u.observaciones??"",fecha_inscripcion:u.fecha_inscripcion.split("T")[0]??"",autoriza_uso_imagen:u.autoriza_uso_imagen,acepta_reglamento:u.acepta_reglamento,requiere_acudiente:M,acudiente:{nombres:((p=u.acudiente)==null?void 0:p.nombres)??"",apellidos:((y=u.acudiente)==null?void 0:y.apellidos)??"",tipo_documento:D((H=u.acudiente)==null?void 0:H.tipo_documento),documento_identidad:((z=u.acudiente)==null?void 0:z.documento_identidad)??"",telefono:((L=u.acudiente)==null?void 0:L.telefono)??"",email:(($=u.acudiente)==null?void 0:$.email)??"",rut:((Y=u.acudiente)==null?void 0:Y.rut)??""}})}}catch(u){console.error("Error al obtener estudiante:",u)}})()},[s,h]),e.jsxs("div",{className:"min-h-screen py-10",children:[e.jsx(He,{richColors:!0,position:"top-center"}),e.jsx("div",{className:"container mx-auto max-w-2xl px-4",children:e.jsxs("div",{className:"bg-white rounded-lg shadow-lg",children:[e.jsx("div",{className:`${b?"bg-primary h-10":"bg-[url(./assets/piscina.jpg)] h-40"} w-full rounded-t-lg bg-center bg-cover`}),e.jsxs("div",{className:"p-6 md:p-8",children:[e.jsxs("h1",{className:"text-2xl md:text-3xl font-bold text-center text-gray-800 mb-2",children:[b?"Edición de Estudiante":"Formulario de Inscripción Acuafit"," ",new Date().getFullYear()]}),e.jsx(Xe,{...i,children:e.jsxs("form",{onSubmit:i.handleSubmit(T),className:"space-y-6",children:[e.jsx(I,{control:i.control,name:"requiere_acudiente",render:({field:t})=>e.jsxs(C,{className:"flex mt-8 flex-row items-center justify-start gap-3 rounded-lg border p-4",children:[e.jsx("div",{className:"space-y-1 leading-none",children:e.jsx(g,{children:R?"El estudiante requiere acudiente":"¿El estudiante es menor de edad y/o requiere datos de acudiente?"})}),e.jsx(N,{children:e.jsx(oe,{checked:t.value,onCheckedChange:p=>{t.onChange(p),w(!!p)}})})]})}),R&&e.jsxs("div",{className:"space-y-4 border-l-4 border-primary pl-4 py-2",children:[e.jsx("h3",{className:"font-semibold text-lg text-gray-800",children:"Datos del Acudiente"}),e.jsx(I,{control:i.control,name:"acudiente.nombres",render:({field:t})=>e.jsxs(C,{children:[e.jsx(g,{children:"Nombres"}),e.jsx(N,{children:e.jsx(P,{...t})}),e.jsx(E,{})]})}),e.jsx(I,{control:i.control,name:"acudiente.apellidos",render:({field:t})=>e.jsxs(C,{children:[e.jsx(g,{className:"block text-gray-700 font-medium mb-2",children:"Apellidos"}),e.jsx(N,{children:e.jsx(P,{...t})}),e.jsx(E,{})]})}),e.jsx(I,{control:i.control,name:"acudiente.tipo_documento",render:({field:t})=>e.jsxs(C,{children:[e.jsx(g,{className:"block text-gray-700 font-medium mb-2",children:"Tipo de documento de identidad"}),e.jsx(N,{children:e.jsx(re,{onValueChange:t.onChange,value:t.value??"",className:"flex flex-col space-y-1",children:K.map((p,y)=>e.jsxs(C,{className:"flex items-center gap-3",children:[e.jsx(N,{children:e.jsx(ne,{value:p})}),e.jsx(g,{className:"font-normal",children:p})]},y))})}),e.jsx(E,{})]})}),e.jsx(I,{control:i.control,name:"acudiente.documento_identidad",render:({field:t})=>e.jsxs(C,{children:[e.jsx(g,{className:"block text-gray-700 font-medium mb-2",children:"Número de documento de identidad"}),e.jsx(N,{children:e.jsx(P,{type:"number",...t})}),e.jsx(E,{})]})}),e.jsx(I,{control:i.control,name:"acudiente.telefono",render:({field:t})=>e.jsxs(C,{children:[e.jsx(g,{className:"block text-gray-700 font-medium mb-2",children:"Número de teléfono de contacto"}),e.jsx(N,{children:e.jsx(P,{type:"tel",...t})}),e.jsx(E,{})]})}),e.jsx(I,{control:i.control,name:"acudiente.email",render:({field:t})=>e.jsxs(C,{children:[e.jsx(g,{className:"block text-gray-700 font-medium mb-2",children:"Correo electrónico de contacto"}),e.jsx(N,{children:e.jsx(P,{type:"email",...t})}),e.jsx(E,{})]})}),e.jsx(I,{control:i.control,name:"acudiente.rut",render:({field:t})=>e.jsxs(C,{children:[e.jsx(g,{className:"block text-gray-700 font-medium mb-2",children:"Número de RUT (Dejar vacío si no aplica)"}),e.jsx(N,{children:e.jsx(P,{...t})}),e.jsx(E,{})]})})]}),e.jsx("h3",{className:"font-semibold text-lg text-gray-800",children:"Datos del Estudiante"}),e.jsx(I,{control:i.control,name:"nombres",render:({field:t})=>e.jsxs(C,{children:[e.jsx(g,{className:"block text-gray-700 font-medium mb-2",children:"Nombres"}),e.jsx(N,{children:e.jsx(P,{...t})}),e.jsx(E,{})]})}),e.jsx(I,{control:i.control,name:"fecha_inscripcion",render:({field:t})=>e.jsxs(C,{hidden:!0,children:[e.jsx(g,{className:"block text-gray-700 font-medium mb-2",children:"Fecha de inscripción"}),e.jsx(N,{children:e.jsx(P,{...t})}),e.jsx(E,{})]})}),e.jsx(I,{control:i.control,name:"apellidos",render:({field:t})=>e.jsxs(C,{children:[e.jsx(g,{className:"block text-gray-700 font-medium mb-2",children:"Apellidos"}),e.jsx(N,{children:e.jsx(P,{...t})}),e.jsx(E,{})]})}),e.jsx(I,{control:i.control,name:"edad",render:({field:t})=>e.jsxs(C,{children:[e.jsx(g,{className:"block text-gray-700 font-medium mb-2",children:"Edad (años cumplidos)"}),e.jsx(N,{children:e.jsx(P,{type:"number",...t})}),e.jsx(E,{})]})}),e.jsx(I,{control:i.control,name:"tipo_documento",render:({field:t})=>e.jsxs(C,{children:[e.jsx(g,{className:"block text-gray-700 font-medium mb-2",children:"Tipo de documento de identidad"}),e.jsx(N,{children:e.jsx(re,{onValueChange:t.onChange,value:t.value??"",className:"flex flex-col space-y-1",children:K.map((p,y)=>e.jsxs(C,{className:"flex items-center gap-3",children:[e.jsx(N,{children:e.jsx(ne,{value:p})}),e.jsx(g,{className:"font-normal",children:p})]},y))})}),e.jsx(E,{})]})}),e.jsx(I,{control:i.control,name:"documento_identidad",render:({field:t})=>e.jsxs(C,{children:[e.jsx(g,{className:"block text-gray-700 font-medium mb-2",children:"Número de documento de identidad"}),e.jsx(N,{children:e.jsx(P,{type:"number",...t})}),e.jsx(E,{})]})}),e.jsx(I,{control:i.control,name:"correo",render:({field:t})=>e.jsxs(C,{children:[e.jsx(g,{className:"block text-gray-700 font-medium mb-2",children:"Correo electrónico de contacto"}),e.jsx(N,{children:e.jsx(P,{type:"email",...t})}),e.jsx(E,{})]})}),e.jsx(I,{control:i.control,name:"telefono",render:({field:t})=>e.jsxs(C,{children:[e.jsx(g,{className:"block text-gray-700 font-medium mb-2",children:"Número de teléfono de contacto"}),e.jsx(N,{children:e.jsx(P,{type:"tel",...t})}),e.jsx(E,{})]})}),e.jsx(I,{control:i.control,name:"direccion",render:({field:t})=>e.jsxs(C,{children:[e.jsx(g,{className:"block text-gray-700 font-medium mb-2",children:"Dirección completa de residencia (incluyendo ciudad)"}),e.jsx(N,{children:e.jsx(P,{...t})}),e.jsx(E,{})]})}),e.jsx(I,{control:i.control,name:"rut",render:({field:t})=>e.jsxs(C,{children:[e.jsx(g,{className:"block text-gray-700 font-medium mb-2",children:"Número de RUT (Dejar vacío si no aplica)"}),e.jsx(N,{children:e.jsx(P,{...t})}),e.jsx(E,{})]})}),e.jsx(I,{control:i.control,name:"sede_id",render:({field:t})=>e.jsxs(C,{children:[e.jsx(g,{className:"block text-gray-700 font-medium mb-2",children:"Sede de preferencia"}),e.jsxs(eo,{value:t.value,onValueChange:p=>{t.onChange(p),k(h.filter(y=>y.sede_id.toString()===p.toString()))},children:[e.jsx(N,{children:e.jsx(oo,{children:e.jsx(to,{placeholder:"Seleccione una sede"})})}),e.jsx(ro,{children:f.map((p,y)=>e.jsx(no,{value:p.id.toString(),children:p.nombre},y))})]}),e.jsx(E,{})]})}),e.jsx(I,{control:i.control,name:"horario_id",render:({field:t})=>e.jsxs(C,{children:[e.jsx(g,{className:"block text-gray-700 font-medium mb-2",children:"Elija su grupo de natación"}),e.jsx(N,{children:e.jsx(re,{value:t.value??"",onValueChange:t.onChange,className:"flex flex-col space-y-1",children:x&&x.length>0?x.map((p,y)=>e.jsxs(C,{className:"flex items-center gap-3",children:[e.jsx(N,{children:e.jsx(ne,{value:p.id.toString()})}),e.jsxs(g,{className:"font-normal",children:[p.tipo_grupo,","," ",mo(p.dia_semana)," ","de"," ",p.hora_inicio," ","a"," ",p.hora_fin]})]},y)):e.jsx(g,{children:"No hay horarios disponibles"})})}),e.jsx(E,{})]})}),e.jsx(I,{control:i.control,name:"observaciones",render:({field:t})=>e.jsxs(C,{children:[e.jsx(g,{className:"block text-gray-700 font-medium mb-2",children:"Observaciones:"}),e.jsx(N,{children:e.jsx(bo,{...t})}),e.jsx(E,{})]})}),e.jsx(I,{control:i.control,name:"autoriza_uso_imagen",render:({field:t})=>e.jsxs(C,{className:"p-4 border border-gray-200 rounded-md",children:[e.jsx(g,{className:"block text-gray-700 font-medium mb-2",children:"Autorización de uso de imagen"}),e.jsxs("p",{className:"text-sm text-gray-500 my-2",children:["¿Permite el uso de fotografías y/o videos del estudiante para fines publicitarios? Conoce más en:"," ",e.jsx(de,{to:"https://docs.google.com/document/d/1sub1O661QHigJBqdSmgXI8l-YsMIPrUlgWr_XbLE5L8/edit?usp=sharing",target:"_blank",rel:"noopener noreferrer",className:"text-blue-600 hover:underline",children:"Documento de derechos de imagen."})]}),e.jsxs(C,{className:"flex items-center gap-3",children:[e.jsx(N,{children:e.jsx(oe,{checked:t.value,onCheckedChange:t.onChange})}),e.jsx(g,{className:"font-normal",children:"Sí autorizo"})]})]})}),e.jsx(I,{control:i.control,name:"acepta_reglamento",render:({field:t})=>e.jsxs(C,{className:"p-4 border border-gray-200 rounded-md",children:[e.jsx(g,{className:"block text-gray-700 font-medium mb-2",children:"Aceptación del Reglamento Acuafit"}),e.jsxs(Ze,{className:"text-sm text-gray-500 mb-2",children:["Conoce más en:"," ",e.jsx(de,{to:"https://docs.google.com/document/d/1I2yqhEhp1Zf0CwjOjEYGqlEC5pYjbHiuJv2HKsOKBhU/edit?usp=sharing",target:"_blank",rel:"noopener noreferrer",className:"text-blue-600 hover:underline",children:"Reglamento Acuafit."})]}),e.jsxs("div",{className:"flex items-center space-x-2 mt-4",children:[e.jsx(N,{children:e.jsx(oe,{disabled:b,checked:t.value,onCheckedChange:t.onChange})}),e.jsx(g,{className:"text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70",children:"He leído y acepto el reglamento de Acuafit."})]}),e.jsx(E,{})]})}),e.jsxs("div",{className:"flex flex-col md:flex-row items-center gap-4 mt-8",children:[e.jsx(le,{type:"submit",disabled:S,children:b?"Actualizar registro":"Enviar inscripción"}),!b&&e.jsx(le,{type:"reset",variant:"outline",onClick:()=>i.reset(),children:"Limpiar formulario"})]})]})})]})]})})]})}export{ot as default};
