import{j as e,S as E,c as p,b as z,L as I,d as L,r as i,B as u,e as j}from"./index-BKcJy05t.js";import{u as H,D as P,a as A,b as B,c as V,d as M,e as K,T as q,f as O,g as v,h as U,i as C,j as G,k as F,l as Q}from"./dialog-DrtCgNVb.js";import{c as x,I as X}from"./createLucideIcon-C5bnr6OH.js";import{S as J,a as W,b as Y,c as Z,d as R,e as ee}from"./select-DM5sZjib.js";import"./index-CnEzmvKp.js";/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ae=[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]],re=x("chevron-left",ae);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const se=[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]],te=x("chevron-right",se);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const le=[["path",{d:"m11 17-5-5 5-5",key:"13zhaf"}],["path",{d:"m18 17-5-5 5-5",key:"h8a8et"}]],ne=x("chevrons-left",le);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oe=[["path",{d:"m6 17 5-5-5-5",key:"xnjwq"}],["path",{d:"m13 17 5-5-5-5",key:"17xmmf"}]],ie=x("chevrons-right",oe),de=z("inline-flex items-center justify-center rounded-md border px-2 py-0.5 text-xs font-medium w-fit whitespace-nowrap shrink-0 [&>svg]:size-3 gap-1 [&>svg]:pointer-events-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive transition-[color,box-shadow] overflow-hidden",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground [a&]:hover:bg-primary/90",secondary:"border-transparent bg-secondary text-secondary-foreground [a&]:hover:bg-secondary/90",destructive:"border-transparent bg-destructive text-white [a&]:hover:bg-destructive/90 focus-visible:ring-destructive/20 dark:focus-visible:ring-destructive/40 dark:bg-destructive/60",outline:"text-foreground [a&]:hover:bg-accent [a&]:hover:text-accent-foreground"}},defaultVariants:{variant:"default"}});function ce({className:s,variant:r,asChild:d=!1,...t}){const o=d?E:"span";return e.jsx(o,{"data-slot":"badge",className:p(de({variant:r}),s),...t})}const ue=s=>[{accessorKey:"id",header:"#",cell:({row:r})=>s+r.index},{id:"acudiente",cell:({row:r})=>r.original.representante_id?e.jsx(ce,{className:"h-5 min-w-5 rounded-full px-1 font-mono tabular-nums",variant:"secondary",asChild:!0,children:e.jsx(I,{to:"#",children:"A"})}):null},{id:"nombresCompletos",accessorFn:r=>`${r.nombres} ${r.apellidos}`,header:"Nombres completos"},{accessorKey:"edad",header:"Edad"},{accessorKey:"correo",header:"Correo electrónico"},{accessorKey:"telefono",header:"Teléfono"},{accessorKey:"sede.nombre",header:"Sede"},{id:"horario",header:"Horario",accessorFn:r=>`${r.horario.dia_semana}`}];function me({className:s,...r}){return e.jsx("nav",{role:"navigation","aria-label":"pagination","data-slot":"pagination",className:p("mx-auto flex w-full justify-center",s),...r})}function be({className:s,...r}){return e.jsx("ul",{"data-slot":"pagination-content",className:p("flex flex-row items-center gap-1",s),...r})}function he({...s}){return e.jsx("li",{"data-slot":"pagination-item",...s})}function pe({className:s,isActive:r,size:d="icon",...t}){return e.jsx("a",{"aria-current":r?"page":void 0,"data-slot":"pagination-link","data-active":r,className:p(L({variant:r?"outline":"ghost",size:d}),s),...t})}function xe({value:s,options:r,onValueChange:d}){return e.jsxs(J,{value:String(s),onValueChange:t=>d(t),children:[e.jsx(W,{children:e.jsx(Y,{placeholder:String(s)})}),e.jsx(Z,{children:e.jsx(R,{children:r.map(t=>e.jsx(ee,{value:String(t.value),children:t.label},String(t.value)))})})]})}function ge({columns:s,data:r,pageNumRefs:d,pageLinks:t,handlePageChange:o}){var S;const b=H({data:r,columns:s,getCoreRowModel:Q(),manualPagination:!0}),[a,g]=i.useState(null),[h,m]=i.useState(!1),[l,y]=i.useState(""),N=[{label:"10",value:10},{label:"15",value:15},{label:"20",value:20},{label:"30",value:30}];i.useEffect(()=>{a&&y(`${a.nombres} ${a.apellidos}`)},[a]);const[f,D]=i.useState(""),[T,$]=i.useState([]),[_,k]=i.useState(!1),w=async()=>{if(f.trim()){k(!0);try{const c=await(await fetch(`https://acuafit.up.railway.app/api/buscar?q=${f}`)).json();$(c),console.log(T)}catch(n){console.error("Error fetching data:",n)}finally{k(!1)}}};return e.jsxs(e.Fragment,{children:[e.jsx("h1",{className:"scroll-m-20 flex-wrap text-3xl font-semibold text-primary",children:"Listado de Estudiantes"}),e.jsxs("div",{className:"flex w-full max-w-sm  my-4 gap-2",children:[e.jsx(X,{type:"search",placeholder:"Buscar",value:f,onChange:n=>D(n.target.value)}),e.jsx(u,{type:"submit",variant:"outline",onClick:w,disabled:_,className:"hover:bg-primary hover:text-white",children:_?"Buscando...":"Buscar"}),e.jsx(u,{type:"submit",variant:"outline",className:"hover:bg-primary hover:text-white",children:"Limpiar"})]}),h&&a&&e.jsx(P,{open:h,onOpenChange:m,children:e.jsxs(A,{children:[e.jsx(B,{children:e.jsx(V,{children:"Detalles del Estudiante"})}),e.jsxs("form",{className:"space-y-4 overflow-auto max-h-[500px]",children:[e.jsxs("div",{children:[e.jsx("label",{htmlFor:"nombres",className:"block font-semibold",children:"Nombres completos"}),e.jsx("input",{id:"nombres",type:"text",value:l,onChange:n=>y(n.target.value),className:"w-full p-2 border border-gray-300 rounded-md bg-gray-100"})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"edad",className:"block font-semibold",children:"Edad"}),e.jsx("input",{id:"edad",type:"text",value:(a==null?void 0:a.edad)??"N/A",disabled:!0,className:"w-full p-2 border border-gray-300 rounded-md bg-gray-100"})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"documento",className:"block font-semibold",children:"Documento"}),e.jsx("input",{id:"documento",type:"text",value:`${a==null?void 0:a.tipo_documento} ${a==null?void 0:a.documento_identidad}`,disabled:!0,className:"w-full p-2 border border-gray-300 rounded-md bg-gray-100"})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"correo",className:"block font-semibold",children:"Correo"}),e.jsx("input",{id:"correo",type:"email",value:a==null?void 0:a.correo,disabled:!0,className:"w-full p-2 border border-gray-300 rounded-md bg-gray-100"})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"telefono",className:"block font-semibold",children:"Teléfono"}),e.jsx("input",{id:"telefono",type:"tel",value:a==null?void 0:a.telefono,disabled:!0,className:"w-full p-2 border border-gray-300 rounded-md bg-gray-100"})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"direccion",className:"block font-semibold",children:"Dirección"}),e.jsx("input",{id:"direccion",type:"text",value:(a==null?void 0:a.direccion)??"N/A",disabled:!0,className:"w-full p-2 border border-gray-300 rounded-md bg-gray-100"})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"rut",className:"block font-semibold",children:"RUT"}),e.jsx("input",{id:"rut",type:"text",value:a==null?void 0:a.rut,disabled:!0,className:"w-full p-2 border border-gray-300 rounded-md bg-gray-100"})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"acepta_reglamento",className:"block font-semibold",children:"Acepta reglamento"}),e.jsx("input",{id:"acepta_reglamento",type:"text",value:a!=null&&a.acepta_reglamento?"Sí":"No",disabled:!0,className:"w-full p-2 border border-gray-300 rounded-md bg-gray-100"})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"autoriza_uso_imagen",className:"block font-semibold",children:"Autoriza uso de imagen"}),e.jsx("input",{id:"autoriza_uso_imagen",type:"text",value:a!=null&&a.autoriza_uso_imagen?"Sí":"No",disabled:!0,className:"w-full p-2 border border-gray-300 rounded-md bg-gray-100"})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"observaciones",className:"block font-semibold",children:"Observaciones"}),e.jsx("textarea",{id:"observaciones",value:(a==null?void 0:a.observaciones)??"N/A",disabled:!0,className:"w-full p-2 border border-gray-300 rounded-md bg-gray-100"})]}),(a==null?void 0:a.representante)&&e.jsxs("div",{children:[e.jsx("h3",{className:"text-xl font-semibold mt-4",children:"Representante"}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"representante_nombres",className:"block font-semibold",children:"Nombres completos"}),e.jsx("input",{id:"representante_nombres",type:"text",value:`${a==null?void 0:a.representante.nombres} ${a==null?void 0:a.representante.apellidos}`,disabled:!0,className:"w-full p-2 border border-gray-300 rounded-md bg-gray-100"})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"representante_documento",className:"block font-semibold",children:"Documento"}),e.jsx("input",{id:"representante_documento",type:"text",value:`${a==null?void 0:a.representante.tipo_documento} ${a==null?void 0:a.representante.documento_identidad}`,disabled:!0,className:"w-full p-2 border border-gray-300 rounded-md bg-gray-100"})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"representante_telefono",className:"block font-semibold",children:"Teléfono"}),e.jsx("input",{id:"representante_telefono",type:"tel",value:a==null?void 0:a.representante.telefono,disabled:!0,className:"w-full p-2 border border-gray-300 rounded-md bg-gray-100"})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"representante_email",className:"block font-semibold",children:"Correo"}),e.jsx("input",{id:"representante_email",type:"email",value:a==null?void 0:a.representante.email,disabled:!0,className:"w-full p-2 border border-gray-300 rounded-md bg-gray-100"})]})]}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-xl font-semibold mt-4",children:"Sede"}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"sede_nombre",className:"block font-semibold",children:"Nombre de Sede"}),e.jsx("input",{id:"sede_nombre",type:"text",value:a==null?void 0:a.sede.nombre,disabled:!0,className:"w-full p-2 border border-gray-300 rounded-md bg-gray-100"})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"sede_direccion",className:"block font-semibold",children:"Dirección de Sede"}),e.jsx("input",{id:"sede_direccion",type:"text",value:a==null?void 0:a.sede.direccion,disabled:!0,className:"w-full p-2 border border-gray-300 rounded-md bg-gray-100"})]})]}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-xl font-semibold mt-4",children:"Horario"}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"horario_dia",className:"block font-semibold",children:"Día de la semana"}),e.jsx("input",{id:"horario_dia",type:"text",value:a==null?void 0:a.horario.dia_semana,disabled:!0,className:"w-full p-2 border border-gray-300 rounded-md bg-gray-100"})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"horario_hora_inicio",className:"block font-semibold",children:"Hora de inicio"}),e.jsx("input",{id:"horario_hora_inicio",type:"text",value:a==null?void 0:a.horario.hora_inicio,disabled:!0,className:"w-full p-2 border border-gray-300 rounded-md bg-gray-100"})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"horario_hora_fin",className:"block font-semibold",children:"Hora de fin"}),e.jsx("input",{id:"horario_hora_fin",type:"text",value:a==null?void 0:a.horario.hora_fin,disabled:!0,className:"w-full p-2 border border-gray-300 rounded-md bg-gray-100"})]})]})]}),e.jsxs(M,{children:[e.jsx(K,{asChild:!0,children:e.jsx(u,{variant:"outline",children:"Cancelar"})}),e.jsx(u,{type:"submit",children:"Editar"}),e.jsx(u,{variant:"destructive",type:"submit",disabled:!0,children:"Eliminar"})]})]})}),e.jsx("div",{className:"rounded-md border",children:e.jsxs(q,{children:[e.jsx(O,{children:b.getHeaderGroups().map(n=>e.jsx(v,{children:n.headers.map(c=>e.jsx(U,{children:c.isPlaceholder?null:C(c.column.columnDef.header,c.getContext())},c.id))},n.id))}),e.jsx(G,{className:"text-gray-600",children:(S=b.getRowModel().rows)!=null&&S.length?b.getRowModel().rows.map(n=>e.jsx(v,{onClick:()=>{g(n.original),m(!0)},className:"hover:text-muted hover:bg-primary cursor-pointer",children:n.getVisibleCells().map(c=>e.jsx(F,{className:"py-0.5",children:C(c.column.columnDef.cell,c.getContext())},c.id))},n.id)):e.jsx(v,{children:e.jsx(F,{colSpan:s.length,className:"h-8 text-center",children:"No hay resultados"})})})]})}),e.jsx("div",{className:"flex flex-row justify-end items-center mb-4 sm:mb-0",children:e.jsxs("div",{className:"flex items-center justify-end py-4 space-x-1",children:[e.jsx(xe,{value:N[0].value,onValueChange:()=>{},options:N}),e.jsx(u,{variant:"outline",size:"sm",onClick:()=>o("first"),disabled:t.prev_page_url===null,className:"hover:bg-primary hover:text-white hidden sm:block",children:e.jsx(ne,{})}),e.jsx(u,{variant:"outline",size:"sm",onClick:()=>o("previous"),disabled:t.prev_page_url===null,className:"hover:bg-primary hover:text-white",children:e.jsx(re,{})}),e.jsx(me,{className:"hidden sm:flex mr-1",children:e.jsx(be,{children:e.jsx(he,{children:e.jsx(pe,{children:d.current_page})})})}),e.jsx(u,{variant:"outline",size:"sm",onClick:()=>o("next"),disabled:t.next_page_url===null,className:"hover:bg-primary hover:text-white",children:e.jsx(te,{})}),e.jsx(u,{variant:"outline",size:"sm",onClick:()=>o("last"),disabled:t.next_page_url===null,className:"hover:bg-primary hover:text-white hidden sm:block",children:e.jsx(ie,{})})]})})]})}j.defaults.withCredentials=!0;j.defaults.withXSRFToken=!0;function _e(){const[s,r]=i.useState([]),[d,t]=i.useState({current_page:1,last_page:1,per_page:10,from:0,to:0,total:0,next_page:null}),[o,b]=i.useState({first_page_url:"",last_page_url:"",next_page_url:null,prev_page_url:null}),[a,g]=i.useState("https://acuafit.up.railway.app/api/estudiantes"),h=m=>{let l=null;switch(m){case"first":l=o.first_page_url;break;case"previous":l=o.prev_page_url;break;case"next":l=o.next_page_url;break;case"last":l=o.last_page_url;break}l!==null&&g(l)};return i.useEffect(()=>{j.get(a).then(m=>{const l=m.data;l&&l.data&&Array.isArray(l.data)?(t({...l}),b({...l}),r(l.data)):(console.error("La respuesta de la API no tiene el formato esperado:",l),r([]))}).catch(m=>{console.error("Error al obtener los datos:",m),r([])})},[a]),e.jsx("div",{className:"container mx-auto px-6 py-4 lg:px-8 min-h-[68vh]",children:e.jsx(ge,{columns:ue(Number(d.from)),data:s,handlePageChange:h,pageNumRefs:d,pageLinks:o})})}export{_e as default};
