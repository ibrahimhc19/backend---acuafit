import{r as d,j as e,B as c,h as u}from"./index-BGa9jtAZ.js";import{u as w,D as N,a as v,b as E,c as H,d as M,e as _,T as I,f as K,g as m,h as L,i as j,j as P,k as b,l as $}from"./dialog-B6mrRA8S.js";import{I as g}from"./createLucideIcon-a-YaqNSv.js";import{t as k,F as A,a as f,b as y,c as F,d as C,e as S,o as B,s as T}from"./form-DWLd18Xw.js";import{u as O}from"./index.esm-CJuESZ6e.js";import{t as D}from"./timeFormatter-DNfpeksr.js";import"./index-BMVn9IUu.js";const G=B({nombre:T().min(2,{message:"El nombre de la sede es obligatorio"}),direccion:T().min(2,{message:"La dirección de la sede es obligatoria"})});function V({columns:s,data:n}){var p;const t=w({data:n,columns:s,getCoreRowModel:$(),manualPagination:!0}),[i,o]=d.useState(null),[h,x]=d.useState(!1),l=O({resolver:k(G),defaultValues:{nombre:"",direccion:"-"}});function R(a){console.log(a)}return e.jsxs(e.Fragment,{children:[e.jsx("h1",{className:"scroll-m-20 flex-wrap text-3xl font-semibold text-primary mb-8",children:"Listado de Horarios"}),e.jsxs("div",{className:"rounded-md border",children:[h&&i&&e.jsx(N,{open:h,onOpenChange:x,children:e.jsxs(v,{children:[e.jsx(E,{children:e.jsx(H,{children:"Editar Sede"})}),e.jsx(A,{...l,children:e.jsxs("form",{onSubmit:l.handleSubmit(R),className:"space-y-8",children:[e.jsx(f,{control:l.control,name:"nombre",render:({field:a})=>e.jsxs(y,{children:[e.jsx(F,{children:"Nombre"}),e.jsx(C,{children:e.jsx(g,{...a})}),e.jsx(S,{})]})}),e.jsx(f,{control:l.control,name:"direccion",render:({field:a})=>e.jsxs(y,{children:[e.jsx(F,{children:"Dirección"}),e.jsx(C,{children:e.jsx(g,{...a})}),e.jsx(S,{})]})}),e.jsx(c,{type:"submit",children:"Submit"})]})}),e.jsxs(M,{children:[e.jsx(_,{asChild:!0,children:e.jsx(c,{variant:"outline",children:"Cancelar"})}),e.jsx(c,{type:"submit",children:"Guardar"}),e.jsx(c,{variant:"destructive",type:"submit",disabled:!0,children:"Eliminar"})]})]})}),e.jsxs(I,{children:[e.jsx(K,{children:t.getHeaderGroups().map(a=>e.jsx(m,{children:a.headers.map(r=>e.jsx(L,{children:r.isPlaceholder?null:j(r.column.columnDef.header,r.getContext())},r.id))},a.id))}),e.jsx(P,{className:"text-gray-600",children:(p=t.getRowModel().rows)!=null&&p.length?t.getRowModel().rows.map(a=>e.jsx(m,{onClick:()=>{o(a.original),x(!0)},className:"hover:text-muted hover:bg-primary cursor-pointer",children:a.getVisibleCells().map(r=>e.jsx(b,{className:"py-0.5",children:j(r.column.columnDef.cell,r.getContext())},r.id))},a.id)):e.jsx(m,{children:e.jsx(b,{colSpan:s.length,className:"h-8 text-center",children:"No hay resultados"})})})]})]})]})}const X=[{accessorKey:"id",header:"#",cell:({row:s})=>s.index+1},{accessorKey:"tipo_grupo",header:"Grupo",accessorFn:s=>`${s.tipo_grupo}`},{accessorKey:"sede.nombre",header:"Sede"},{accessorKey:"hora_inicio",header:"Hora de inicio",accessorFn:s=>`${D(s.hora_inicio)}`},{accessorKey:"hora_fin",header:"Hora de fin",accessorFn:s=>`${D(s.hora_fin)}`}];u.defaults.withCredentials=!0;u.defaults.withXSRFToken=!0;function Z(){const[s,n]=d.useState([]),t="https://acuafit.up.railway.app/client/horarios";return d.useEffect(()=>{u.get(t).then(i=>{const o=i.data;o&&o.data&&Array.isArray(o.data)?n(o.data):(console.error("La respuesta de la API no tiene el formato esperado:",o),n([]))}).catch(i=>{console.error("Error al obtener los datos:",i),n([])})},[t]),e.jsx("div",{className:"container mx-auto px-6 py-4 lg:px-8 min-h-[68vh]",children:e.jsx(V,{data:s,columns:X})})}export{Z as default};
