import{i as d}from"./index-CDF9JweK.js";import{i as h}from"./alert-dialog-C9Hdy1f_.js";const p=async()=>{var a,o,r,s;try{return(await d.get("client/horarios")).data.data}catch(t){const e=t,n=((o=(a=e.response)==null?void 0:a.data)==null?void 0:o.message)??"Error inesperado",i=(s=(r=e.response)==null?void 0:r.data)==null?void 0:s.errors;throw{message:n,validationErrors:i}}},w=async a=>{var o,r,s,t;try{return(await d.post("client/horario",a)).data}catch(e){const n=e,i=((r=(o=n.response)==null?void 0:o.data)==null?void 0:r.message)??"Error inesperado",c=(t=(s=n.response)==null?void 0:s.data)==null?void 0:t.errors;throw{message:i,validationErrors:c}}},m=async(a,o)=>{var r,s,t,e;try{return(await d.patch(`client/horario/${a}`,o)).data}catch(n){const i=n,c=((s=(r=i.response)==null?void 0:r.data)==null?void 0:s.message)??"Error inesperado",l=(e=(t=i.response)==null?void 0:t.data)==null?void 0:e.errors;throw{message:c,validationErrors:l}}},y=async a=>{var o,r,s,t;try{return(await d.delete(`client/horario/${a}`)).data}catch(e){const n=e,i=((r=(o=n.response)==null?void 0:o.data)==null?void 0:r.message)??"Error inesperado",c=(t=(s=n.response)==null?void 0:s.data)==null?void 0:t.errors;throw{message:i,validationErrors:c}}},u=h((a,o)=>({horarios:[],selectedHorario:null,loading:!1,error:null,fetchHorarios:async()=>{a({loading:!0,error:null});try{const r=await p();a({horarios:r})}catch(r){a({error:r.message||"Error al cargar horarios"})}finally{a({loading:!1})}},createHorario:async r=>{await w(r),await o().fetchHorarios()},updateHorario:async(r,s)=>{await m(r,s),await o().fetchHorarios()},deleteHorario:async r=>{await y(r),await o().fetchHorarios()},selectHorario:r=>{a({selectedHorario:r})}}));export{u};
