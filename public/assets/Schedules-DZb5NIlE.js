import{r as l,j as e,B as d,e as m}from"./index-Bc21kszf.js";import{u as y,D,a as N,b as C,c as T,d as v,e as S,T as F,f as w,g as u,h as H,i as p,j as R,k as j,l as I}from"./dialog-CIAvR9M2.js";import{L as g}from"./label-DogBdbzg.js";import{I as b}from"./createLucideIcon-Dgrvn3sS.js";import"./index-xTy5iKmk.js";import"./index-BLLkzb7n.js";function _({columns:a,data:i}){var x;const t=y({data:i,columns:a,getCoreRowModel:I(),manualPagination:!0}),[s,r]=l.useState(null),[c,h]=l.useState(!1);return e.jsxs(e.Fragment,{children:[e.jsx("h1",{className:"scroll-m-20 flex-wrap text-3xl font-semibold text-primary mb-8",children:"Listado de Horarios"}),e.jsxs("div",{className:"rounded-md border",children:[c&&s&&e.jsx(D,{open:c,onOpenChange:h,children:e.jsxs(N,{children:[e.jsx(C,{children:e.jsx(T,{children:"Editar Sede"})}),e.jsxs("form",{className:"space-y-4 max-h-[500px]",children:[e.jsxs("div",{children:[e.jsx(g,{htmlFor:"nombre",className:"block font-semibold",children:"Nombre"}),e.jsx(b,{id:"nombre",type:"text",value:(s==null?void 0:s.tipo_grupo)??"N/A"})]}),e.jsxs("div",{children:[e.jsx(g,{htmlFor:"direccion",className:"block font-semibold",children:"DirecciÃ³n"}),e.jsx(b,{id:"direccion",type:"text",value:(s==null?void 0:s.sede.nombre)??"N/A"})]})]}),e.jsxs(v,{children:[e.jsx(S,{asChild:!0,children:e.jsx(d,{variant:"outline",children:"Cancelar"})}),e.jsx(d,{type:"submit",children:"Guardar"}),e.jsx(d,{variant:"destructive",type:"submit",disabled:!0,children:"Eliminar"})]})]})}),e.jsxs(F,{children:[e.jsx(w,{children:t.getHeaderGroups().map(n=>e.jsx(u,{children:n.headers.map(o=>e.jsx(H,{children:o.isPlaceholder?null:p(o.column.columnDef.header,o.getContext())},o.id))},n.id))}),e.jsx(R,{className:"text-gray-600",children:(x=t.getRowModel().rows)!=null&&x.length?t.getRowModel().rows.map(n=>e.jsx(u,{onClick:()=>{r(n.original),h(!0)},className:"hover:text-muted hover:bg-primary cursor-pointer",children:n.getVisibleCells().map(o=>e.jsx(j,{className:"py-0.5",children:p(o.column.columnDef.cell,o.getContext())},o.id))},n.id)):e.jsx(u,{children:e.jsx(j,{colSpan:a.length,className:"h-8 text-center",children:"No hay resultados"})})})]})]})]})}const f=a=>{const[i,t,s]=a.split(":"),r=new Date;return r.setHours(parseInt(i),parseInt(t),parseInt(s)),r.toLocaleTimeString("en-US",{hour:"2-digit",minute:"2-digit",hour12:!0})},E=[{accessorKey:"id",header:"#",cell:({row:a})=>a.index+1},{accessorKey:"tipo_grupo",header:"Grupo",accessorFn:a=>`${a.tipo_grupo}`},{accessorKey:"sede.nombre",header:"Sede"},{accessorKey:"hora_inicio",header:"Hora de inicio",accessorFn:a=>`${f(a.hora_inicio)}`},{accessorKey:"hora_fin",header:"Hora de fin",accessorFn:a=>`${f(a.hora_fin)}`}];m.defaults.withCredentials=!0;m.defaults.withXSRFToken=!0;function $(){const[a,i]=l.useState([]),t="https://acuafit.up.railway.app/horarios";return l.useEffect(()=>{m.get(t).then(s=>{const r=s.data;r&&r.data&&Array.isArray(r.data)?i(r.data):(console.error("La respuesta de la API no tiene el formato esperado:",r),i([]))}).catch(s=>{console.error("Error al obtener los datos:",s),i([])})},[t]),e.jsx("div",{className:"container mx-auto px-6 py-4 lg:px-8 min-h-[68vh]",children:e.jsx(_,{data:a,columns:E})})}export{$ as default};
